Index: app/src/main/java/com/example/ohurocchi/NameActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.ohurocchi\r\n\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.widget.Button\r\nimport android.widget.EditText\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.lifecycle.lifecycleScope\r\nimport com.google.android.material.textfield.TextInputEditText\r\nimport kotlinx.coroutines.Dispatchers\r\nimport kotlinx.coroutines.launch\r\nimport kotlinx.coroutines.withContext\r\nimport org.json.JSONException\r\nimport org.json.JSONObject\r\nimport java.io.BufferedReader\r\nimport java.io.IOException\r\nimport java.io.InputStreamReader\r\nimport java.net.URL\r\n\r\nclass NameActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_namechange)\r\n\r\n        val newName:EditText =findViewById(R.id.editTextTextPersonName)\r\n\r\n\r\n\r\n        val button = findViewById<Button>(R.id.button)\r\n        button.setOnClickListener {\r\n\r\n            val setName = newName.text.toString()\r\n\r\n            changeuserNameTask(setName)\r\n            val btnBack: Button = findViewById(R.id.btnBack)\r\n\r\n            btnBack.setOnClickListener {\r\n                finish()\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun changeuserNameTask(mainURL:String){\r\n        //コルーチンスコープの用意\r\n        lifecycleScope.launch{\r\n            changeuserNameBackgroundTask(mainURL)\r\n        }\r\n    }\r\n\r\n    private suspend fun changeuserNameBackgroundTask(mainURL:String):String{\r\n        val URL = \"http://172.22.113.55/huro_API/DBupdate.php?name=\"\r\n        val response = withContext(Dispatchers.IO){\r\n            var httpResult = \"\"\r\n            try{\r\n                val newURL = \"$URL$mainURL\"\r\n                Log.d(\"MyApp\",\"URL $newURL\")\r\n                val urlObj = URL(newURL)\r\n\r\n                val br = BufferedReader(InputStreamReader(urlObj.openStream()))\r\n\r\n                httpResult = br.readText()\r\n            }catch (e: IOException){//IOExceptionとは例外管理するクラス\r\n                Log.d(\"MyApp\",\"例外発生\")\r\n                e.printStackTrace() //エラーが発生したよって言う\r\n            }catch (e: JSONException){ //JSONデータ構造に問題が発生した場合の例外\r\n                Log.d(\"MyApp\",\"Json error\")\r\n                e.printStackTrace()\r\n            }\r\n            return@withContext httpResult\r\n        }\r\n        return response\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/ohurocchi/NameActivity.kt b/app/src/main/java/com/example/ohurocchi/NameActivity.kt
--- a/app/src/main/java/com/example/ohurocchi/NameActivity.kt	(revision d4b407f00c2beb7409f1c46f233b0b6dd6c5f597)
+++ b/app/src/main/java/com/example/ohurocchi/NameActivity.kt	(date 1668054720778)
@@ -50,7 +50,7 @@
     }
 
     private suspend fun changeuserNameBackgroundTask(mainURL:String):String{
-        val URL = "http://172.22.113.55/huro_API/DBupdate.php?name="
+        val URL = "http://10.0.2.2/huro_API/DBupdate.php?name="
         val response = withContext(Dispatchers.IO){
             var httpResult = ""
             try{
